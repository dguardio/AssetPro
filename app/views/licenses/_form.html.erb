<%= form_with(model: license) do |form| %>
  <% if license.errors.any? %>
    <div class="alert alert-danger">
      <h4><%= pluralize(license.errors.count, "error") %> prohibited this license from being saved:</h4>
      <ul>
        <% license.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="col-md-6">
      <div class="input-group input-group-dynamic mb-4">
        <%= form.text_field :name, class: 'form-control', placeholder: 'License Name' %>
      </div>
    </div>

    <div class="col-md-6">
      <div class="input-group input-group-dynamic mb-4">
        <%= form.text_field :license_key, class: 'form-control', placeholder: 'License Key' %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="input-group input-group-static mb-4">
        <%= form.collection_select :asset_id, 
            Asset.order(:name), 
            :id, 
            :name, 
            { prompt: 'Select Asset' }, 
            { class: 'form-select' } %>
      </div>
    </div>

    <div class="col-md-6">
      <div class="input-group input-group-dynamic mb-4">
        <%= form.number_field :seats, class: 'form-control', placeholder: 'Number of Seats' %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="input-group input-group-static mb-4">
        <%= form.label :purchase_date, class: 'form-label' %>
        <%= form.date_field :purchase_date, class: 'form-control', placeholder: 'Purchase Date' %>
      </div>
    </div>

    <div class="col-md-6">
      <div class="input-group input-group-static mb-4">
        <%= form.label :expiration_date, class: 'form-label' %>
        <%= form.date_field :expiration_date, class: 'form-control', placeholder: 'Expiration Date' %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-6">
      <div class="input-group input-group-dynamic mb-4">
        <%= form.text_field :supplier, class: 'form-control', placeholder: 'Supplier' %>
      </div>
    </div>


  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="input-group input-group-dynamic mb-4">
        <%= form.text_area :notes, rows: 3, class: 'form-control', placeholder: 'Notes' %>
      </div>
    </div>
  </div>

  <div class="d-flex justify-content-end gap-3 mt-4">
    <%= link_to 'Cancel', licenses_path, class: 'btn btn-dark-gray' %>
    <%= form.submit class: 'btn btn-dark' %>
  </div>  
<% end %> 